# generated by datamodel-codegen:
#   filename:  messages.schema.json
#   timestamp: 2025-12-27T16:54:19+00:00

from __future__ import annotations

from enum import Enum
from typing import Any, Literal

from pydantic import AwareDatetime, BaseModel, ConfigDict, Field, RootModel


class MessageRole(Enum):
    user = 'user'
    assistant = 'assistant'
    system = 'system'
    error = 'error'


class MessageStatus(Enum):
    pending = 'pending'
    streaming = 'streaming'
    complete = 'complete'
    error = 'error'


class ToolCallStatus(Enum):
    pending = 'pending'
    running = 'running'
    success = 'success'
    error = 'error'


class ToolCall(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    id: str = Field(..., description='Unique identifier for the tool call')
    name: str = Field(..., description='Name of the tool being called')
    arguments: dict[str, Any] = Field(..., description='Arguments passed to the tool')
    result: str | None = Field(
        None, description='Result returned from the tool execution'
    )
    status: ToolCallStatus
    started_at: AwareDatetime | None = Field(
        None, description='Timestamp when the tool call started'
    )
    completed_at: AwareDatetime | None = Field(
        None, description='Timestamp when the tool call completed'
    )


class TextContent(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    type: Literal['text']
    text: str = Field(..., description='The text content, may contain markdown')


class ToolUseContent(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    type: Literal['tool_use']
    tool_call: ToolCall


class ToolResultContent(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    type: Literal['tool_result']
    tool_call_id: str = Field(
        ..., description='ID of the tool call this result corresponds to'
    )
    result: str = Field(..., description='The result of the tool execution')
    is_error: bool | None = Field(
        False, description='Whether the tool execution resulted in an error'
    )


class MessageContent(RootModel[TextContent | ToolUseContent | ToolResultContent]):
    root: TextContent | ToolUseContent | ToolResultContent = Field(
        ..., description='A content block within a message'
    )


class Message(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    id: str = Field(..., description='Unique identifier for the message')
    role: MessageRole
    content: list[MessageContent] = Field(
        ..., description='Array of content blocks in the message'
    )
    timestamp: AwareDatetime = Field(..., description='When the message was created')
    status: MessageStatus


class Conversation(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    id: str = Field(..., description='Unique identifier for the conversation')
    title: str | None = Field(None, description='Optional title for the conversation')
    messages: list[Message] = Field(..., description='Messages in the conversation')
    created_at: AwareDatetime = Field(
        ..., description='When the conversation was created'
    )
    updated_at: AwareDatetime = Field(
        ..., description='When the conversation was last updated'
    )


class MessageTypes(BaseModel):
    Message_1: Message | None = Field(None, alias='Message')
    MessageContent_1: MessageContent | None = Field(None, alias='MessageContent')
    ToolCall_1: ToolCall | None = Field(None, alias='ToolCall')
    Conversation_1: Conversation | None = Field(None, alias='Conversation')
